(()=>{"use strict";class e{constructor(e){this._pos=e,this._isOwn=!1,this._owner="",this._element=document.querySelector(`#${e}`)}getPos(){return this._pos}getIsOwn(){return this._isOwn}getOwner(){return this._owner}setIsOwn(e){this._isOwn=e}setOwner(e){this._owner=e}reset(){this._owner="",this._isOwn=!1}renderOwnerSing(e){let t=e=>`<i class="${e}"></i>`;"x"==e?this._element.innerHTML=t("fa-solid fa-x"):"o"==e&&(this._element.innerHTML=t("fa-solid fa-circle"))}}class t{constructor(){this.round=1,this.data={x:0,o:0,draw:0}}reset(){this.round=1,this.data.x=0,this.data.o=0,this.data.draw=0}setWinner(e="draw"){switch(e){case"x":this.data.x+=1;break;case"o":this.data.o+=1;break;case"draw":this.data.draw+=1}this.renderUpdate(e)}renderUpdate(e){document.querySelector(`#${e}`).innerText=`${e} : ${this.data[e]}`}}class s{constructor(){this._board={A:[],B:[],C:[]}}sortingGroup(e){let t=this._board[e],s="";for(let e=0;e<t.length;e++)for(let r=0;r<t.length;r++){let n=e=>t[e].split("")[1];n(e)<n(r)&&(s=t[r],t[r]=t[e],t[e]=s)}}setTitle(e){let t=e.split(""),s=t[0].toUpperCase();this._board[s].push(t[0]+t[1]),this._board[s].length>1&&this.sortingGroup(s)}getTitles(){return this._board}reset(){Object.keys(this._board).forEach((e=>{this._board[e]=[]}))}}window.pubSub=new class{constructor(){this._events={}}publish(e,t){switch(!0){case null==this._events[e]:console.log(`PubSub : ${e}  doesn't  exist`);break;case 0==this._events[e].lenght:console.log(`PubSub : ${e} don't have callbacks`);break;default:this._events[e].forEach((e=>{e(t)}))}}subscribe(e,t){null==this._events[e]&&(this._events[e]=[]),this._events[e].push(t)}emit(e){switch(!0){case null==this._events[e]:console.log(`PubSub : ${e} is undefined`);break;case 0==this._events[e].lenght:console.log(`PubSub : ${e} don't have callbacks`);break;default:this._events[e].forEach((e=>{e()}))}}},window.board=new class{constructor(){this._board={A:[new e("a0"),new e("a1"),new e("a2")],B:[new e("b0"),new e("b1"),new e("b2")],C:[new e("c0"),new e("c1"),new e("c2")]},this.gameData=new t}reset(){Object.keys(this._board).forEach((e=>{this._board[e].forEach((e=>{e.reset()}))}))}setTitleOwner(e={Group,Pos,Owner}){let t=e.Pos,s=e.Group,r=e.Owner,n=this._board[s][t];return 0==n.getIsOwn()&&(n.setIsOwn(!0),n.setOwner(r),n.renderOwnerSing(r),!0)}},window.playerOne=new class{constructor(e){this._board=new s,this._sign=e}setTitle(e){this._board.setTitle(e)}getTitle(){return this._board}}("x")})();